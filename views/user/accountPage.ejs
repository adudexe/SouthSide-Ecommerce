<%- include('../partials/user/header') %>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<style>
/* Make the container for orders scrollable */
.orders-scroll-container {
    max-height: 500px; /* Set a height for the scrollable area, adjust as needed */
    overflow-y: auto;  /* Enable vertical scrolling */
}


    
    :root {
        --primary-color: #086400;
        --success-color: #10B981;
        --danger-color: #EF4444;
        --gray-100: #F3F4F6;
        --gray-200: #E5E7EB;
        --gray-500: #6B7280;
        --gray-700: #374151;
    }

    
    .transaction-list {
        max-height: 400px; /* Adjust this value as needed */
        overflow-y: auto;  /* This enables vertical scrolling */
        padding-right: 10px; /* Optional: adds padding to the right to prevent text from touching the scrollbar */
    }


    

    .wallet-card {
        background: linear-gradient(135deg, var(--primary-color), #00a783);
        border-radius: 1rem;
        padding: 2rem;
        color: white;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        margin-bottom: 2rem;
    }

    .wallet-balance {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .balance-amount {
        font-size: 2.5rem;
        font-weight: bold;
        margin-top: 0.5rem;
    }

    .balance-label {
        opacity: 0.9;
        font-size: 1.1rem;
    }

    .wallet-icon {
        font-size: 2rem;
        opacity: 0.9;
    }

    .transactions-card {
        background: white;
        border-radius: 1rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        padding: 1.5rem;
    }

    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
    }

    .card-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--gray-700);
    }

    .transaction-list {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .transaction-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
        background-color: var(--gray-100);
        border-radius: 0.75rem;
        transition: background-color 0.2s;
    }

    .transaction-item:hover {
        background-color: var(--gray-200);
    }

    .transaction-info {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .transaction-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .transaction-details {
        display: flex;
        flex-direction: column;
    }

    .transaction-type {
        font-weight: 500;
    }

    .transaction-date {
        color: var(--gray-500);
        font-size: 0.875rem;
    }

    .transaction-amount {
        text-align: right;
    }

    .amount {
        font-weight: 600;
        margin-bottom: 0.25rem;
    }

    .status-badge {
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
    }

    .status-credit {
        background-color: rgba(16, 185, 129, 0.1);
        color: var(--success-color);
    }

    .status-debit {
        background-color: rgba(239, 68, 68, 0.1);
        color: var(--danger-color);
    }

    .empty-state {
        text-align: center;
        padding: 3rem 1rem;
        color: var(--gray-500);
    }

    .empty-state i {
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    .empty-state h3 {
        font-size: 1.25rem;
        color: var(--gray-700);
        margin-bottom: 0.5rem;
    }

    @media (max-width: 640px) {
        .container {
            margin: 1rem auto;
        }

        .balance-amount {
            font-size: 2rem;
        }

        .transaction-item {
            flex-direction: column;
            align-items: flex-start;
            gap: 1rem;
        }

        .transaction-amount {
            width: 100%;
            text-align: left;
        }
    }

    /* Make the container scrollable */
    .order-container {
        max-height: 500px; /* Adjust based on your preference */
        overflow-y: auto;
    }

    /* Style for each order card */
    .order-card {
        border-radius: 15px; /* Give rounded corners to each card */
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Optional: Adds a soft shadow around the cards */
        margin-bottom: 20px; /* Adds space between cards */
    }

    /* Optional: Add some padding and space for the scroll */
    .card-body {
        padding: 20px;
    }

    /* Add padding to the row and card-body to make the content more spacious */
    .row {
        margin-bottom: 10px;
    }   



</style>
    <div class="mobile-header-active mobile-header-wrapper-style">
        <div class="mobile-header-wrapper-inner">
            <div class="mobile-header-top">
                <div class="mobile-header-logo">
                    <a href="index.html"><img src="assets/imgs/theme/logo.svg" alt="logo"></a>
                </div>
                <div class="mobile-menu-close close-style-wrap close-style-position-inherit">
                    <button class="close-style search-close">
                        <i class="icon-top"></i>
                        <i class="icon-bottom"></i>
                    </button>
                </div>
            </div>
            <div class="mobile-header-content-area">
                <div class="mobile-search search-style-3 mobile-header-border">
                    <form action="#">
                        <input type="text" placeholder="Search for items…">
                        <button type="submit"><i class="fi-rs-search"></i></button>
                    </form>
                </div>
                <div class="mobile-menu-wrap mobile-header-border">
                    <div class="main-categori-wrap mobile-header-border">
                        <a class="categori-button-active-2" href="#">
                            <span class="fi-rs-apps"></span> Browse Categories
                        </a>
                        <div class="categori-dropdown-wrap categori-dropdown-active-small">
                            <ul>
                                <li><a href="shop-grid-right.html"><i class="evara-font-dress"></i>Women's Clothing</a></li>
                                <li><a href="shop-grid-right.html"><i class="evara-font-tshirt"></i>Men's Clothing</a></li>
                                <li> <a href="shop-grid-right.html"><i class="evara-font-smartphone"></i> Cellphones</a></li>
                                <li><a href="shop-grid-right.html"><i class="evara-font-desktop"></i>Computer & Office</a></li>
                                <li><a href="shop-grid-right.html"><i class="evara-font-cpu"></i>Consumer Electronics</a></li>
                                <li><a href="shop-grid-right.html"><i class="evara-font-home"></i>Home & Garden</a></li>
                                <li><a href="shop-grid-right.html"><i class="evara-font-high-heels"></i>Shoes</a></li>
                                <li><a href="shop-grid-right.html"><i class="evara-font-teddy-bear"></i>Mother & Kids</a></li>
                                <li><a href="shop-grid-right.html"><i class="evara-font-kite"></i>Outdoor fun</a></li>
                            </ul>
                        </div>
                    </div>
                    <!-- mobile menu start -->
                    <nav>
                        <ul class="mobile-menu">
                            <li class="menu-item-has-children"><span class="menu-expand"></span><a href="index.html">Home</a>
                                <ul class="dropdown">
                                    <li><a href="index.html">Home 1</a></li>
                                    <li><a href="index-2.html">Home 2</a></li>
                                    <li><a href="index-3.html">Home 3</a></li>
                                    <li><a href="index-4.html">Home 4</a></li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children"><span class="menu-expand"></span><a href="shop-grid-right.html">shop</a>
                                <ul class="dropdown">
                                    <li><a href="shop-grid-right.html">Shop Grid – Right Sidebar</a></li>
                                    <li><a href="shop-grid-left.html">Shop Grid – Left Sidebar</a></li>
                                    <li><a href="shop-list-right.html">Shop List – Right Sidebar</a></li>
                                    <li><a href="shop-list-left.html">Shop List – Left Sidebar</a></li>
                                    <li><a href="shop-fullwidth.html">Shop - Wide</a></li>
                                    <li class="menu-item-has-children"><span class="menu-expand"></span><a href="#">Single Product</a>
                                        <ul class="dropdown">
                                            <li><a href="shop-product-right.html">Product – Right Sidebar</a></li>
                                            <li><a href="shop-product-left.html">Product – Left Sidebar</a></li>
                                            <li><a href="shop-product-full.html">Product – No sidebar</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="shop-filter.html">Shop – Filter</a></li>
                                    <li><a href="shop-wishlist.html">Shop – Wishlist</a></li>
                                    <li><a href="shop-cart.html">Shop – Cart</a></li>
                                    <li><a href="shop-checkout.html">Shop – Checkout</a></li>
                                    <li><a href="shop-compare.html">Shop – Compare</a></li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children"><span class="menu-expand"></span><a href="#">Mega menu</a>
                                <ul class="dropdown">
                                    <li class="menu-item-has-children"><span class="menu-expand"></span><a href="#">Women's Fashion</a>
                                        <ul class="dropdown">
                                            <li><a href="shop-product-right.html">Dresses</a></li>
                                            <li><a href="shop-product-right.html">Blouses & Shirts</a></li>
                                            <li><a href="shop-product-right.html">Hoodies & Sweatshirts</a></li>
                                            <li><a href="shop-product-right.html">Women's Sets</a></li>
                                        </ul>
                                    </li>
                                    <li class="menu-item-has-children"><span class="menu-expand"></span><a href="#">Men's Fashion</a>
                                        <ul class="dropdown">
                                            <li><a href="shop-product-right.html">Jackets</a></li>
                                            <li><a href="shop-product-right.html">Casual Faux Leather</a></li>
                                            <li><a href="shop-product-right.html">Genuine Leather</a></li>
                                        </ul>
                                    </li>
                                    <li class="menu-item-has-children"><span class="menu-expand"></span><a href="#">Technology</a>
                                        <ul class="dropdown">
                                            <li><a href="shop-product-right.html">Gaming Laptops</a></li>
                                            <li><a href="shop-product-right.html">Ultraslim Laptops</a></li>
                                            <li><a href="shop-product-right.html">Tablets</a></li>
                                            <li><a href="shop-product-right.html">Laptop Accessories</a></li>
                                            <li><a href="shop-product-right.html">Tablet Accessories</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children"><span class="menu-expand"></span><a href="blog-category-fullwidth.html">Blog</a>
                                <ul class="dropdown">
                                    <li><a href="blog-category-grid.html">Blog Category Grid</a></li>
                                    <li><a href="blog-category-list.html">Blog Category List</a></li>
                                    <li><a href="blog-category-big.html">Blog Category Big</a></li>
                                    <li><a href="blog-category-fullwidth.html">Blog Category Wide</a></li>
                                    <li class="menu-item-has-children"><span class="menu-expand"></span><a href="#">Single Product Layout</a>
                                        <ul class="dropdown">
                                            <li><a href="blog-post-left.html">Left Sidebar</a></li>
                                            <li><a href="blog-post-right.html">Right Sidebar</a></li>
                                            <li><a href="blog-post-fullwidth.html">No Sidebar</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children"><span class="menu-expand"></span><a href="#">Pages</a>
                                <ul class="dropdown">
                                    <li><a href="page-about.html">About Us</a></li>
                                    <li><a href="page-contact.html">Contact</a></li>
                                    <li><a href="page-account.html">My Account</a></li>
                                    <li><a href="page-login-register.html">login/register</a></li>
                                    <li><a href="page-purchase-guide.html">Purchase Guide</a></li>
                                    <li><a href="page-privacy-policy.html">Privacy Policy</a></li>
                                    <li><a href="page-terms.html">Terms of Service</a></li>
                                    <li><a href="page-404.html">404 Page</a></li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children"><span class="menu-expand"></span><a href="#">Language</a>
                                <ul class="dropdown">
                                    <li><a href="#">English</a></li>
                                    <li><a href="#">French</a></li>
                                    <li><a href="#">German</a></li>
                                    <li><a href="#">Spanish</a></li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
                    <!-- mobile menu end -->
                </div>
                <div class="mobile-header-info-wrap mobile-header-border">
                    <div class="single-mobile-header-info mt-30">
                        <a  href="page-contact.html"> Our location </a>
                    </div>
                    <div class="single-mobile-header-info">
                        <a href="page-login-register.html">Log In / Sign Up </a>
                    </div>
                    <div class="single-mobile-header-info">
                        <a href="#">(+01) - 2345 - 6789 </a>
                    </div>
                </div>
                <div class="mobile-social-icon">
                    <h5 class="mb-15 text-grey-4">Follow Us</h5>
                    <a href="#"><img src="assets/imgs/theme/icons/icon-facebook.svg" alt=""></a>
                    <a href="#"><img src="assets/imgs/theme/icons/icon-twitter.svg" alt=""></a>
                    <a href="#"><img src="assets/imgs/theme/icons/icon-instagram.svg" alt=""></a>
                    <a href="#"><img src="assets/imgs/theme/icons/icon-pinterest.svg" alt=""></a>
                    <a href="#"><img src="assets/imgs/theme/icons/icon-youtube.svg" alt=""></a>
                </div>
            </div>
        </div>
    </div>
    <main class="main">
        <div class="page-header breadcrumb-wrap">
            <div class="container">
                <div class="breadcrumb">
                    <a href="index.html" rel="nofollow">Home</a>
                    <span></span> Pages
                    <span></span> Account
                </div>
            </div>
        </div>
        <section class="pt-150 pb-150">
            <div class="container">
                <div class="row">
                    <div class="col-lg-10 m-auto">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="dashboard-menu">
                                    <ul class="nav flex-column" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link active" id="dashboard-tab" data-bs-toggle="tab" href="#dashboard" role="tab" aria-controls="dashboard" aria-selected="false"><i class="fi-rs-settings-sliders mr-10"></i>Dashboard</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="orders-tab" data-bs-toggle="tab" href="#orders" role="tab" aria-controls="orders" aria-selected="false"><i class="fi-rs-shopping-bag mr-10"></i>Orders</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="orders-tab" data-bs-toggle="tab" href="#wallet-detail" role="tab" aria-controls="orders" aria-selected="false"><i class="fi-rs-shopping-bag mr-10"></i>Wallet</a>
                                        </li>
                                        <!-- <li class="nav-item">
                                            <a class="nav-link" id="track-orders-tab" data-bs-toggle="tab" href="#track-orders" role="tab" aria-controls="track-orders" aria-selected="false"><i class="fi-rs-shopping-cart-check mr-10"></i>Track Your Order</a>
                                        </li> -->
                                        <li class="nav-item">
                                            <a class="nav-link" id="address-tab" data-bs-toggle="tab" href="#address" role="tab" aria-controls="address" aria-selected="true"><i class="fi-rs-marker mr-10"></i>My Address</a>
                                        </li>
                                        <!-- <li class="nav-item">
                                            <a class="nav-link" id="account-detail-tab" data-bs-toggle="tab" href="#account-detail" role="tab" aria-controls="account-detail" aria-selected="true"><i class="fi-rs-user mr-10"></i>Account details</a>
                                        </li> -->
                                        <li class="nav-item">
                                            <a class="nav-link" href="/user/userLogout"><i class="fi-rs-sign-out mr-10"></i>Logout</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            
                            
                            <div class="col-md-8">
                                <div class="tab-content dashboard-content">
                                    <div class="tab-pane fade active show" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">
                                        <div class="card">
                                            <div class="card-header">
                                              <h5 class="mb-0">Hello <%= user.name %>!</h5>
                                            </div>
                                            <div class="card-body">
                                              <!-- Display user details dynamically -->
                                              <p><strong>Name:</strong> <span id="currentName"><%= user.name %></span></p>
                                              <p><strong>Email:</strong> <span id="currentEmail"><%= user.email %></span></p>
                                              
                                              <!-- Button to reset password -->
                                              <a href="" class="btn btn-primary">Reset Password</a>
                                              
                                             <!-- Edit Details Button (Trigger Modal) -->
                                                <button type="button" class="btn btn-primary" id="userEditButton">Edit Details</button>
  
                                            </div>
                                        </div>
                                          
                                         <!-- Modal HTML -->
                                           <div class="modal fade" id="editDetailsModal" tabindex="-1" aria-labelledby="editDetailsModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                <h5 class="modal-title" id="editDetailsModalLabel">Edit Details</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                <!-- Form to edit user details -->
                                                <form id="editDetailsForm">
                                                    <div class="mb-3">
                                                    <label for="editName" class="form-label">Name</label>
                                                    <input type="text" class="form-control" id="editName" required>
                                                    </div>
                                                    <div class="mb-3">
                                                    <label for="editEmail" class="form-label">Email</label>
                                                    <input type="email" class="form-control" id="editEmail" required>
                                                    </div>
                                                </form>
                                                </div>
                                                <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                                <button type="button" class="btn btn-primary" id="saveDetails">Save changes</button>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
  
 
                                          
                                        
                                    </div>
                                      
                                    <div class="tab-pane fade" id="orders" role="tabpanel" aria-labelledby="orders-tab">
                                        <div class="card border-0 shadow-sm">
                                            <div class="card-header bg-white border-0">
                                                <h5 class="mb-0 text-success">Your Orders</h5>
                                            </div>
                                            <div class="card-body p-4">
                                                <div class="orders-scroll-container">
                                                    <% if (orders.length === 0) { %>
                                                        <div class="col-12 text-center py-5">
                                                            <div class="empty-orders">
                                                                <i class="fas fa-shopping-bag text-muted mb-4" style="font-size: 3rem;"></i>
                                                                <h4 class="text-muted mb-3">No Orders Yet</h4>
                                                                <p class="text-muted mb-4">Looks like you haven't made any orders yet.</p>
                                                                <a href="/shop" class="btn btn-success rounded-pill px-4">
                                                                    <i class="fas fa-store me-2"></i>Start Shopping
                                                                </a>
                                                            </div>
                                                        </div>
                                                    <% } else { %>
                                                        <% orders.forEach(element => { %>
                                                            <div class="col-12">
                                                                <div class="order-card card border-0 shadow-hover position-relative overflow-hidden">
                                                                    <div class="position-absolute top-0 start-0 w-3 h-100 bg-success"></div>
                                                                    <div class="card-body p-4">
                                                                        <div class="row align-items-center">
                                                                            <div class="col-md-3">
                                                                                <div class="order-date mb-3 mb-md-0">
                                                                                    <h6 class="text-muted mb-1">Order Date</h6>
                                                                                    <p class="mb-0 fw-bold">
                                                                                        <%= (element.createdOn).toLocaleDateString('en-US', {
                                                                                            month: 'long',
                                                                                            day: 'numeric',
                                                                                            year: 'numeric'
                                                                                        }); %>
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-3">
                                                                                <div class="order-status mb-3 mb-md-0">
                                                                                    <h6 class="text-muted mb-1">Status</h6>
                                                                                    <% if (element.status === "Pending") { %>
                                                                                        <span class="badge bg-warning text-dark px-3 py-2 rounded-pill">
                                                                                            <i class="fas fa-clock me-1"></i>
                                                                                            <%= element.status %>
                                                                                        </span>
                                                                                    <% } else if (element.status === "Success") { %>
                                                                                        <span class="badge bg-success px-3 py-2 rounded-pill">
                                                                                            <i class="fas fa-check me-1"></i>
                                                                                            <%= element.status %>
                                                                                        </span>
                                                                                    <% } else if (element.status === "Canceled") { %>
                                                                                        <span class="badge bg-danger px-3 py-2 rounded-pill">
                                                                                            <i class="fas fa-times me-1"></i>
                                                                                            <%= element.status %>
                                                                                        </span>
                                                                                    <% } %>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-3">
                                                                                <div class="order-total mb-3 mb-md-0">
                                                                                    <h6 class="text-muted mb-1">Total Amount</h6>
                                                                                    <p class="mb-0 fw-bold text-success">$<%= element.totalPrice %></p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-3 text-md-end">
                                                                                <a href="/user/myAccount/order/<%= element._id %>" class="btn btn-outline-success btn-sm rounded-pill px-4">
                                                                                    <i class="fas fa-eye me-2"></i>View Details
                                                                                </a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        <% }) %>
                                                    <% } %>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- <div class="tab-pane fade" id="track-orders" role="tabpanel" aria-labelledby="track-orders-tab">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0">Orders tracking</h5>
                                            </div>
                                            <div class="card-body contact-from-area">
                                                <p>To track your order please enter your OrderID in the box below and press "Track" button. This was given to you on your receipt and in the confirmation email you should have received.</p>
                                                <div class="row">
                                                    <div class="col-lg-8">
                                                        <form class="contact-form-style mt-30 mb-50" action="#" method="post">
                                                            <div class="input-style mb-20">
                                                                <label>Order ID</label>
                                                                <input name="order-id" placeholder="Found in your order confirmation email" type="text" class="square">
                                                            </div>
                                                            <div class="input-style mb-20">
                                                                <label>Billing email</label>
                                                                <input name="billing-email" placeholder="Email you used during checkout" type="email" class="square">
                                                            </div>
                                                            <button class="submit submit-auto-width" type="submit">Track</button>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div> -->
                                    <div class="tab-pane fade" id="address" role="tabpanel" aria-labelledby="address-tab">
                                        <div class="row" id="cardDiv">
                                            <% address.forEach(element => { %>
                                              <div class="col-lg-6">
                                                <div class="card mt-3" id="address-card-<%= element.addressNumber %>">
                                                  <div class="card-header">
                                                    <h5 class="mb-0">Address <%= element.addressNumber %></h5>
                                                  </div>
                                                  <div class="card-body">
                                                    <address id="address-<%= element.addressNumber %>">
                                                      <p><%= element.name %></p>
                                                      <p><%= element.street %>, <%= element.city %>, <%= element.state %> <%= element.postalCode %></p>
                                                      <p><%= element.country %></p>
                                                    </address>
                                                    <p>Phone: <%= element.phone %></p>
                                                    <button class="btn btn-sm  editButton" data-address-id="<%= element._id %>">Edit</button>
                                                    <button  class="btn btn-sm  ms-3 deleteBtn" data-address-id="<%= element._id %>">Delete</button>
                                                  </div>
                                                </div>
                                              </div>
                                            <% }); %>
                                        </div>
                                        <div class="modal fade" id="createAddressModal" tabindex="-1" aria-labelledby="createAddressModalLabel" >
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="createAddressModalLabel">Create New Address</h5>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <!-- Address Creation Form -->
                                                        <form id="createAddressForm">
                                                            <div class="mb-3 fs-2 d-flex justify-content-center">
                                                                <h2 for="addressNumber" class="form-label" data-address-number="<%= address.length+1 %>" id="addressNumber">Address <%= address.length+1 %></h2>
                                                            </div>
                                        
                                                            <!-- Grid Layout for the Form -->
                                                            <div class="row">
                                                                <!-- Name -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="name" class="form-label">Name</label>
                                                                    <input type="text" class="form-control" id="name" placeholder="Enter name" required>
                                                                </div>
                                                                <!-- Street -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="street" class="form-label">Street</label>
                                                                    <input type="text" class="form-control" id="street" placeholder="Enter street" required>
                                                                </div>
                                                            </div>
                                        
                                                            <div class="row">
                                                                <!-- City -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="city" class="form-label">City</label>
                                                                    <input type="text" class="form-control" id="city" placeholder="Enter city" required>
                                                                </div>
                                                                <!-- State -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="state" class="form-label">State</label>
                                                                    <input type="text" class="form-control" id="state" placeholder="Enter state" required>
                                                                </div>
                                                            </div>
                                        
                                                            <div class="row">
                                                                <!-- Postal Code -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="postalCode" class="form-label">Postal Code</label>
                                                                    <input type="number" class="form-control" id="postalCode" placeholder="Enter postal code" required>
                                                                </div>
                                                                <!-- Phone -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="phone" class="form-label">Phone</label>
                                                                    <input type="tel" class="form-control" id="phone" placeholder="Enter phone number" required>
                                                                </div>
                                                            </div>
                                        
                                                            <div class="row">
                                                                <!-- Country -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="country" class="form-label">Country</label>
                                                                    <input type="text" class="form-control" id="country" placeholder="Enter country" required>
                                                                </div>
                                                                <!-- Primary Address -->
                                                                <div class="col-12 col-md-6 mb-3 form-check">
                                                                    <input type="checkbox" class="form-check-input" id="isPrimary">
                                                                    <label class="form-check-label" for="isPrimary">Set as primary address</label>
                                                                </div>
                                                            </div>
                                        
                                                            <!-- Submit Button -->
                                                            <button type="submit" class="btn btn-primary" id="submitButton">Save Address</button>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <button id="addAddressBtn" class="btn btn-success mt-4">Add Address</button>

                                        <div class="modal fade" id="updateAddressModal" tabindex="-1" aria-labelledby="updateAddressModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="updateAddressModalLabel">Update Address</h5>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <!-- Address Update Form -->
                                                        <form id="updateAddressForm">
                                                            <div class="mb-3 fs-2 d-flex justify-content-center">
                                                                <h2 for="updateAddressNumber" class="form-label" id="updateAddressNumber">Address <span id="addressNumberLabel"></span></h2>
                                                            </div>
                                        
                                                            <!-- Grid Layout for the Form -->
                                                            <div class="row">
                                                                <!-- Name -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="updateName" class="form-label">Name</label>
                                                                    <input type="text" class="form-control" id="updateName" placeholder="Enter name" required>
                                                                </div>
                                                                <!-- Street -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="updateStreet" class="form-label">Street</label>
                                                                    <input type="text" class="form-control" id="updateStreet" placeholder="Enter street" required>
                                                                </div>
                                                            </div>
                                        
                                                            <div class="row">
                                                                <!-- City -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="updateCity" class="form-label">City</label>
                                                                    <input type="text" class="form-control" id="updateCity" placeholder="Enter city" required>
                                                                </div>
                                                                <!-- State -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="updateState" class="form-label">State</label>
                                                                    <input type="text" class="form-control" id="updateState" placeholder="Enter state" required>
                                                                </div>
                                                            </div>
                                        
                                                            <div class="row">
                                                                <!-- Postal Code -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="updatePostalCode" class="form-label">Postal Code</label>
                                                                    <input type="number" class="form-control" id="updatePostalCode" placeholder="Enter postal code" required>
                                                                </div>
                                                                <!-- Phone -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="updatePhone" class="form-label">Phone</label>
                                                                    <input type="tel" class="form-control" id="updatePhone" placeholder="Enter phone number" required>
                                                                </div>
                                                            </div>
                                        
                                                            <div class="row">
                                                                <!-- Country -->
                                                                <div class="col-12 col-md-6 mb-3">
                                                                    <label for="updateCountry" class="form-label">Country</label>
                                                                    <input type="text" class="form-control" id="updateCountry" placeholder="Enter country" required>
                                                                </div>
                                                                <!-- Primary Address -->
                                                                <div class="col-12 col-md-6 mb-3 form-check">
                                                                    <input type="checkbox" class="form-check-input" id="updateIsPrimary">
                                                                    <label class="form-check-label" for="updateIsPrimary">Set as primary address</label>
                                                                </div>
                                                            </div>
                                        
                                                            <!-- Submit Button -->
                                                            <button type="submit" class="btn btn-primary" id="submitUpdateButton">Update Address</button>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>

                                    <!-- <div class="tab-pane fade" id="account-detail" role="tabpanel" aria-labelledby="account-detail-tab">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5>Account Details</h5>
                                            </div>
                                            <div class="card-body">
                                                <p>Already have an account? <a href="page-login-register.html">Log in instead!</a></p>
                                                <form method="post" name="enq">
                                                    <div class="row">
                                                        <div class="form-group col-md-6">
                                                            <label>First Name <span class="required">*</span></label>
                                                            <input required="" class="form-control square" name="name" type="text">
                                                        </div>
                                                        <div class="form-group col-md-6">
                                                            <label>Last Name <span class="required">*</span></label>
                                                            <input required="" class="form-control square" name="phone">
                                                        </div>
                                                        <div class="form-group col-md-12">
                                                            <label>Display Name <span class="required">*</span></label>
                                                            <input required="" class="form-control square" name="dname" type="text">
                                                        </div>
                                                        <div class="form-group col-md-12">
                                                            <label>Email Address <span class="required">*</span></label>
                                                            <input required="" class="form-control square" name="email" type="email">
                                                        </div>
                                                        <div class="form-group col-md-12">
                                                            <label>Current Password <span class="required">*</span></label>
                                                            <input required="" class="form-control square" name="password" type="password">
                                                        </div>
                                                        <div class="form-group col-md-12">
                                                            <label>New Password <span class="required">*</span></label>
                                                            <input required="" class="form-control square" name="npassword" type="password">
                                                        </div>
                                                        <div class="form-group col-md-12">
                                                            <label>Confirm Password <span class="required">*</span></label>
                                                            <input required="" class="form-control square" name="cpassword" type="password">
                                                        </div>
                                                        <div class="col-md-12">
                                                            <button type="submit" class="btn btn-fill-out submit" name="submit" value="Submit">Save</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div> -->
                                    <div class="tab-pane fade" id="wallet-detail" role="tabpanel" aria-labelledby="wallet-detail-tab">
                                        <section class="ps-100 pb-150">
                                            <div class="container">
                                                <!-- Wallet Balance Card -->
                                                <div class="wallet-card">
                                                    <div class="wallet-balance">
                                                        <div>
                                                            <div class="balance-label">Total Balance</div>
                                                            <div class="balance-amount">₹<%= wallet ? wallet.totalAmount : '0' %></div>
                                                        </div>
                                                        <div class="wallet-icon">
                                                            <i class="fas fa-wallet"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                        
                                                <!-- Transactions Card -->
                                                <div class="transactions-card">
                                                    <div class="card-header">
                                                        <h2 class="card-title">Transaction History</h2>
                                                    </div>
                                        
                                                    <% if (!wallet || !wallet.transactions || !wallet.transactions.length) { %>
                                                        <div class="empty-state">
                                                            <i class="fas fa-wallet"></i>
                                                            <h3>No transactions yet</h3>
                                                            <p>Your transaction history will appear here</p>
                                                        </div>
                                                    <% } else { %>
                                                        <div class="transaction-list">
                                                            <% wallet.transactions.forEach(transaction => { %>
                                                                <div class="transaction-item">
                                                                    <div class="transaction-info">
                                                                        <div class="transaction-icon">
                                                                            <i class="fas fa-<%= transaction.transactionType === 'credit' ? 'arrow-up' : 'arrow-down' %>">
                                                                            </i>
                                                                        </div>
                                                                        <div class="transaction-details">
                                                                            <div class="transaction-type">
                                                                                <%= transaction.transactionType.charAt(0).toUpperCase() + transaction.transactionType.slice(1) %>
                                                                            </div>
                                                                            <div class="transaction-date">
                                                                                <%= new Date(transaction.date).toLocaleDateString('en-US', { 
                                                                                    year: 'numeric', 
                                                                                    month: 'short', 
                                                                                    day: 'numeric' 
                                                                                }) %>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="transaction-amount">
                                                                        <div class="amount">
                                                                            <%= transaction.transactionType === 'credit' ? '+' : '-' %> ₹<%= transaction.amount.toFixed(2) %>
                                                                        </div>
                                                                        <span class="status-badge status-<%= transaction.transactionType %>">
                                                                            <%= transaction.transactionType.toUpperCase() %>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            <% }); %>
                                                        </div>
                                                    <% } %>
                                                </div>
                                            </div>
                                        </section>
                                    </div>
                                    

                                    
                                    <!-- Add Money Modal -->
                                    <div class="modal fade" id="addMoneyModal" tabindex="-1" aria-labelledby="addMoneyModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content rounded-lg">
                                                <div class="modal-header">
                                                    <h5 class="modal-title text-primary" id="addMoneyModalLabel">Add Money to Wallet</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <form id="addMoneyForm">
                                                        <div class="mb-3">
                                                            <label for="amount" class="form-label">Amount (₹)</label>
                                                            <input type="number" class="form-control" id="amount" min="1" step="1" required>
                                                        </div>
                                                        <button type="submit" class="btn btn-primary w-100 btn-lg">Proceed to Add Money</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Withdraw Modal -->
                                    <div class="modal fade" id="withdrawModal" tabindex="-1" aria-labelledby="withdrawModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content rounded-lg">
                                                <div class="modal-header">
                                                    <h5 class="modal-title text-primary" id="withdrawModalLabel">Withdraw Money</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <form id="withdrawForm">
                                                        <div class="mb-3">
                                                            <label for="withdrawAmount" class="form-label">Amount (₹)</label>
                                                            <input type="number" class="form-control" id="withdrawAmount" min="1" max="10000" step="1" required>
                                                        </div>
                                                        <button type="submit" class="btn btn-danger w-100 btn-lg">Withdraw</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Styles to Enhance UI -->
                                    
                                    
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="main">
        <section class="newsletter p-30 text-white wow fadeIn animated">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-7 mb-md-3 mb-lg-0">
                        <div class="row align-items-center">
                            <div class="col flex-horizontal-center">
                                <img class="icon-email" src="assets/imgs/theme/icons/icon-email.svg" alt="">
                                <h4 class="font-size-20 mb-0 ml-3">Sign up to Newsletter</h4>
                            </div>
                            <div class="col my-4 my-md-0 des">
                                <h5 class="font-size-15 ml-4 mb-0">...and receive <strong>$25 coupon for first shopping.</strong></h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <!-- Subscribe Form -->
                        <form class="form-subcriber d-flex wow fadeIn animated">
                            <input type="email" class="form-control bg-white font-small" placeholder="Enter your email">
                            <button class="btn bg-dark text-white" type="submit">Subscribe</button>
                        </form>
                        <!-- End Subscribe Form -->
                    </div>
                </div>
            </div>
        </section>
        <section class="section-padding footer-mid">
            <div class="container pt-15 pb-20">
                <div class="row">
                    <div class="col-lg-4 col-md-6">
                        <div class="widget-about font-md mb-md-5 mb-lg-0">
                            <div class="logo logo-width-1 wow fadeIn animated">
                                <a href="index.html"><img src="assets/imgs/theme/logo.svg" alt="logo"></a>
                            </div>
                            <h5 class="mt-20 mb-10 fw-600 text-grey-4 wow fadeIn animated">Contact</h5>
                            <p class="wow fadeIn animated">
                                <strong>Address: </strong>562 Wellington Road, Street 32, San Francisco
                            </p>
                            <p class="wow fadeIn animated">
                                <strong>Phone: </strong>+01 2222 365 /(+91) 01 2345 6789
                            </p>
                            <p class="wow fadeIn animated">
                                <strong>Hours: </strong>10:00 - 18:00, Mon - Sat
                            </p>
                            <h5 class="mb-10 mt-30 fw-600 text-grey-4 wow fadeIn animated">Follow Us</h5>
                            <div class="mobile-social-icon wow fadeIn animated mb-sm-5 mb-md-0">
                                <a href="#"><img src="assets/imgs/theme/icons/icon-facebook.svg" alt=""></a>
                                <a href="#"><img src="assets/imgs/theme/icons/icon-twitter.svg" alt=""></a>
                                <a href="#"><img src="assets/imgs/theme/icons/icon-instagram.svg" alt=""></a>
                                <a href="#"><img src="assets/imgs/theme/icons/icon-pinterest.svg" alt=""></a>
                                <a href="#"><img src="assets/imgs/theme/icons/icon-youtube.svg" alt=""></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3">
                        <h5 class="widget-title wow fadeIn animated">About</h5>
                        <ul class="footer-list wow fadeIn animated mb-sm-5 mb-md-0">
                            <li><a href="#">About Us</a></li>
                            <li><a href="#">Delivery Information</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                            <li><a href="#">Terms &amp; Conditions</a></li>
                            <li><a href="#">Contact Us</a></li>
                            <li><a href="#">Support Center</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-2  col-md-3">
                        <h5 class="widget-title wow fadeIn animated">My Account</h5>
                        <ul class="footer-list wow fadeIn animated">
                            <li><a href="#">Sign In</a></li>
                            <li><a href="#">View Cart</a></li>
                            <li><a href="#">My Wishlist</a></li>
                            <li><a href="#">Track My Order</a></li>
                            <li><a href="#">Help</a></li>
                            <li><a href="#">Order</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-4">
                        <h5 class="widget-title wow fadeIn animated">Install App</h5>
                        <div class="row">
                            <div class="col-md-8 col-lg-12">
                                <p class="wow fadeIn animated">From App Store or Google Play</p>
                                <div class="download-app wow fadeIn animated">
                                    <a href="#" class="hover-up mb-sm-4 mb-lg-0"><img class="active" src="assets/imgs/theme/app-store.jpg" alt=""></a>
                                    <a href="#" class="hover-up"><img src="assets/imgs/theme/google-play.jpg" alt=""></a>
                                </div>
                            </div>
                            <div class="col-md-4 col-lg-12 mt-md-3 mt-lg-0">
                                <p class="mb-20 wow fadeIn animated">Secured Payment Gateways</p>
                                <img class="wow fadeIn animated" src="assets/imgs/theme/payment-method.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <div class="container pb-20 wow fadeIn animated">
            <div class="row">
                <div class="col-12 mb-20">
                    <div class="footer-bottom"></div>
                </div>
                <div class="col-lg-6">
                    <p class="float-md-left font-sm text-muted mb-0">&copy; 2022, <strong class="text-brand">Evara</strong> - HTML Ecommerce Template </p>
                </div>
                <div class="col-lg-6">
                    <p class="text-lg-end text-start font-sm text-muted mb-0">
                        Designed by <a href="http://alithemes.com" target="_blank">Alithemes.com</a>. All rights reserved
                    </p>
                </div>
            </div>
        </div>
    </footer>
    <!-- Preloader Start -->
    <div id="preloader-active">
        <div class="preloader d-flex align-items-center justify-content-center">
            <div class="preloader-inner position-relative">
                <div class="text-center">
                    <h5 class="mb-5">Now Loading</h5>
                    <div class="loader">
                        <div class="bar bar1"></div>
                        <div class="bar bar2"></div>
                        <div class="bar bar3"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        
    </script>
    <script src="/javascript/addressUpdateAndDelete.js"></script>
    <script src="/javascript/editProfile.js"></script>
    <!-- SweetAlert2 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/javascript/userAddress.js"></script>  
    <!-- Vendor JS-->
    <script src="assets/js/vendor/modernizr-3.6.0.min.js"></script>
    <script src="assets/js/vendor/jquery-3.6.0.min.js"></script>
    <script src="assets/js/vendor/jquery-migrate-3.3.0.min.js"></script>
    <script src="assets/js/vendor/bootstrap.bundle.min.js"></script>
    <script src="assets/js/plugins/slick.js"></script>
    <script src="assets/js/plugins/jquery.syotimer.min.js"></script>
    <script src="assets/js/plugins/wow.js"></script>
    <script src="assets/js/plugins/jquery-ui.js"></script>
    <script src="assets/js/plugins/perfect-scrollbar.js"></script>
    <script src="assets/js/plugins/magnific-popup.js"></script>
    <script src="assets/js/plugins/select2.min.js"></script>
    <script src="assets/js/plugins/waypoints.js"></script>
    <script src="assets/js/plugins/counterup.js"></script>
    <script src="assets/js/plugins/jquery.countdown.min.js"></script>
    <script src="assets/js/plugins/images-loaded.js"></script>
    <script src="assets/js/plugins/isotope.js"></script>
    <script src="assets/js/plugins/scrollup.js"></script>
    <script src="assets/js/plugins/jquery.vticker-min.js"></script>
    <script src="assets/js/plugins/jquery.theia.sticky.js"></script>  
    <!-- Template  JS -->
    <script src="./assets/js/main.js?v=3.4"></script>
</body>

</html>